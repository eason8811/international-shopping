---
config:
  look: neo
  theme: redux-color
  layout: elk
---
erDiagram
	direction LR
	user_account {
	}
	user_auth {
	}
	user_profile {
	}
	user_address {
	}
	orders {
	}
	product_like {
	}
	shopping_cart_item {
	}
	cs_ticket {
	}
	product_category {
	}
	product_category_i18n {
	}
	locale {
	}
	product {
	}
	product_i18n {
	}
	product_sku {
	}
	product_image {
	}
	product_sku_image {
	}
	product_spec {
	}
	product_spec_i18n {
	}
	product_spec_value {
	}
	product_spec_value_i18n {
	}
	product_sku_spec {
	}
	product_price {
	}
	currency {
	}
	order_item {
	}
	order_status_log {
	}
	inventory_log {
	}
	discount_policy {
	}
	discount_code {
	}
	discount_code_product {
	}
	order_discount_applied {
	}
	payment_order {
	}
	payment_refund {
	}
	payment_refund_item {
	}
	shipment {
	}
	shipment_item {
	}
	shipment_status_log {
	}

	user_account||--o{user_auth:"has"
	user_account||--||user_profile:"has"
	user_account||--o{user_address:"has"
	user_account||--o{orders:"places"
	user_account||--o{product_like:"likes"
	user_account||--o{shopping_cart_item:"carts"
	user_account||--o{cs_ticket:"raises"
	product_category||--o{product_category:"parent_of"
	product_category||--o{product_category_i18n:"has_i18n"
	locale||--o{product_category_i18n:"in_locale"
	product_category||--o{product:"contains"
	product||--o{product_i18n:"has_i18n"
	locale||--o{product_i18n:"in_locale"
	product||--o{product_sku:"has_sku"
	product||--o{product_image:"has_image"
	product_sku||--o{product_sku_image:"has_image"
	product||--o{product_spec:"has_spec"
	product_spec||--o{product_spec_i18n:"has_i18n"
	locale||--o{product_spec_i18n:"in_locale"
	product_spec||--o{product_spec_value:"has_value"
	product_spec_value||--o{product_spec_value_i18n:"has_i18n"
	locale||--o{product_spec_value_i18n:"in_locale"
	product_sku||--o{product_sku_spec:"composed_of"
	product_spec||--o{product_sku_spec:"uses_spec"
	product_spec_value||--o{product_sku_spec:"selects_value"
	product_sku||--o{product_price:"priced_in"
	currency||--o{product_price:"currency"
	product||--o{product_like:"liked"
	product_sku||--o{shopping_cart_item:"carted"
	orders||--o{order_item:"contains"
	product||--o{order_item:"for_spu"
	product_sku||--o{order_item:"for_sku"
	orders||--o{order_status_log:"status_events"
	orders||--o{inventory_log:"inventory_events"
	product_sku||--o{inventory_log:"inventory_on_sku"
	discount_policy||--o{discount_code:"defines"
	discount_code||--o{discount_code_product:"scopes"
	product||--o{discount_code_product:"product_scope"
	discount_code||--o{order_item:"applied_on_item"
	orders||--o{order_discount_applied:"discount_facts"
	discount_code||--o{order_discount_applied:"by_code"
	order_item||--o{order_discount_applied:"item_entry"
	orders||--o{payment_order:"pays"
	orders||--o{payment_refund:"refunds"
	payment_order||--o{payment_refund:"refunds_of_payment"
	cs_ticket||--o{payment_refund:"from_ticket"
	payment_refund||--o{payment_refund_item:"splits"
	order_item||--o{payment_refund_item:"refunded_item"
	orders||--o{shipment:"ships"
	shipment||--o{shipment_item:"includes_item"
	orders||--o{shipment_item:"links_order"
	order_item||--o{shipment_item:"packs_item"
	product||--o{shipment_item:"for_spu"
	product_sku||--o{shipment_item:"for_sku"
	shipment||--o{shipment_status_log:"status_events"
	shipment||--o{cs_ticket:"referenced_by_ticket"
	user_account||--o{cs_ticket:"creates"
	orders||--o{cs_ticket:"on_order"
	order_item||--o{cs_ticket:"on_order_item"
	shipment||--o{cs_ticket:"on_shipment"

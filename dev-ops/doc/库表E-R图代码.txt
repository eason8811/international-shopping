---
config:
  theme: redux-color
  layout: elk
---
erDiagram
	direction LR
	USER_ACCOUNT {
	}
	USER_AUTH {
	}
	USER_PROFILE {
	}
	USER_ADDRESS {
	}
	ORDERS {
	}
	SHOPPING_CART_ITEM {
	}
	PRODUCT_LIKE {
	}
	PRODUCT_CATEGORY {
	}
	PRODUCT {
	}
	PRODUCT_CATEGORY_I18N {
	}
	LOCALE {
	}
	PRODUCT_I18N {
	}
	PRODUCT_SKU {
	}
	PRODUCT_IMAGE {
	}
	PRODUCT_SKU_IMAGE {
	}
	PRODUCT_SPEC {
	}
	PRODUCT_SPEC_VALUE {
	}
	PRODUCT_SPEC_I18N {
	}
	PRODUCT_SPEC_VALUE_I18N {
	}
	PRODUCT_SKU_SPEC {
	}
	PRODUCT_PRICE {
	}
	CURRENCY {
	}
	ORDER_ITEM {
	}
	PAYMENT_ORDER {
	}
	ORDER_STATUS_LOG {
	}
	SHIPMENT {
	}
	SHIPMENT_ITEM {
	}
	SHIPMENT_STATUS_LOG {
	}
	INVENTORY_LOG {
	}
	DISCOUNT_POLICY {
	}
	DISCOUNT_CODE {
	}
	DISCOUNT_CODE_PRODUCT {
	}
	ORDER_DISCOUNT_APPLIED {
	}

	USER_ACCOUNT||--o{USER_AUTH:"has"
	USER_ACCOUNT||--||USER_PROFILE:"has"
	USER_ACCOUNT||--o{USER_ADDRESS:"has"
	USER_ACCOUNT||--o{ORDERS:"places"
	USER_ACCOUNT||--o{SHOPPING_CART_ITEM:"adds"
	USER_ACCOUNT||--o{PRODUCT_LIKE:"likes"
	PRODUCT_CATEGORY||--o{PRODUCT_CATEGORY:"parent_of"
	PRODUCT_CATEGORY||--o{PRODUCT:"categorizes"
	PRODUCT_CATEGORY||--o{PRODUCT_CATEGORY_I18N:"i18n"
	LOCALE||--o{PRODUCT_CATEGORY_I18N:"localizes"
	PRODUCT||--o{PRODUCT_I18N:"i18n"
	LOCALE||--o{PRODUCT_I18N:"localizes"
	PRODUCT||--o{PRODUCT_SKU:"has"
	PRODUCT||--o|PRODUCT_SKU:"default_sku"
	PRODUCT||--o{PRODUCT_IMAGE:"has"
	PRODUCT_SKU||--o{PRODUCT_SKU_IMAGE:"has"
	PRODUCT||--o{PRODUCT_SPEC:"defines"
	PRODUCT_SPEC||--o{PRODUCT_SPEC_VALUE:"has"
	PRODUCT_SPEC||--o{PRODUCT_SPEC_I18N:"i18n"
	LOCALE||--o{PRODUCT_SPEC_I18N:"localizes"
	PRODUCT_SPEC_VALUE||--o{PRODUCT_SPEC_VALUE_I18N:"i18n"
	LOCALE||--o{PRODUCT_SPEC_VALUE_I18N:"localizes"
	PRODUCT_SKU||--o{PRODUCT_SKU_SPEC:"maps"
	PRODUCT_SPEC||--o{PRODUCT_SKU_SPEC:"maps"
	PRODUCT_SPEC_VALUE||--o{PRODUCT_SKU_SPEC:"maps"
	PRODUCT_SKU||--o{PRODUCT_PRICE:"priced_in"
	CURRENCY||--o{PRODUCT_PRICE:"defines"
	SHOPPING_CART_ITEM||--||PRODUCT_SKU:"refers"
	SHOPPING_CART_ITEM||--||USER_ACCOUNT:"belongs_to"
	PRODUCT_LIKE||--||PRODUCT:"for"
	PRODUCT_LIKE||--||USER_ACCOUNT:"by"
	ORDERS||--o{ORDER_ITEM:"contains"
	PRODUCT||--o{ORDER_ITEM:"snapshot_of"
	PRODUCT_SKU||--o{ORDER_ITEM:"snapshot_of"
	ORDERS||--o{PAYMENT_ORDER:"has"
	ORDERS||--o{ORDER_STATUS_LOG:"logs"
	ORDERS||--o{SHIPMENT:"ships"
	SHIPMENT||--o{SHIPMENT_ITEM:"contains"
	ORDER_ITEM||--o{SHIPMENT_ITEM:"packed_from"
	PRODUCT_SKU||--o{SHIPMENT_ITEM:"sku_ref"
	PRODUCT||--o{SHIPMENT_ITEM:"product_ref"
	SHIPMENT||--o{SHIPMENT_STATUS_LOG:"logs"
	PRODUCT_SKU||--o{INVENTORY_LOG:"impacts"
	ORDERS||--o{INVENTORY_LOG:"relates"
	DISCOUNT_POLICY||--o{DISCOUNT_CODE:"templates"
	DISCOUNT_CODE||--o{DISCOUNT_CODE_PRODUCT:"applies_to"
	PRODUCT||--o{DISCOUNT_CODE_PRODUCT:"constrained_by"
	DISCOUNT_CODE||--o{ORDER_ITEM:"referenced_by"
	DISCOUNT_CODE||--o{ORDER_DISCOUNT_APPLIED:"used_in"
	ORDERS||--o{ORDER_DISCOUNT_APPLIED:"logs"
	ORDER_ITEM||--o{ORDER_DISCOUNT_APPLIED:"item_logs"
	LOCALE||--o{PRODUCT_CATEGORY_I18N:"localizes"
	LOCALE||--o{PRODUCT_I18N:"localizes"
	LOCALE||--o{PRODUCT_SPEC_I18N:"localizes"
	LOCALE||--o{PRODUCT_SPEC_VALUE_I18N:"localizes"
